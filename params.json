{
  "name": "WunderTools",
  "tagline": "Project reference setup that gets you started in no time",
  "body": "# Project reference setup with ansible & vagrant\r\n\r\n[![Build Status](https://travis-ci.org/wunderkraut/WunderMachina.svg?branch=centos7)](https://travis-ci.org/wunderkraut/WunderMachina)\r\n\r\n##Setup\r\n\r\nYou can setup the IP address and the url of your vagrant machine on the\r\nVagrantfile.\r\n\r\nEdit the variables.yml file to setup the URL and dir for the docs of your project.\r\n\r\nRemember to add also the entries in your hosts file for both the drupal install and\r\nthe docs.\r\n\r\n\r\n###\r\nRequirements:\r\n- Vagrant 1.5.x\r\n- https://github.com/fgrehm/vagrant-cachier\r\n( $ vagrant plugin install vagrant-cachier )\r\n- Ansible in your host machine. For OS X:\r\n brew install ansible\r\n\r\n##Introduction\r\n\r\nStart by running:\r\n\r\n  $ vagrant up\r\n\r\nThis will do the following:\r\n\r\n- clone the latest WunderMachina ansible/vagrant setup (or the version specified in conf/project.yml)\r\n- Bring up & provision the virtual machine (if needed)\r\n- Build the drupal site under drupal/current (not yet actually)\r\n\r\nAfter finishing provisioning (first time is always slow) and building the site\r\nyou need to install the Drupal site in http://x.x.x.x:8080/install.php\r\n(Note: on rare occasion php-fpm/varnish/e.g. requires to be restarted before\r\nstarting to work. You can do this by issuing the following command:\r\n\r\n  $ vagrant  ssh -c \"sudo service php-fpm restart\"\r\n  $ vagrant  ssh -c \"sudo service varnish restart\"\r\n\r\nAll Drupal related configurations are under drupal/conf\r\n\r\nDrush is usable without ssh access with the drush.sh script e.g:\r\n\r\n  $ ./drush.sh cc all\r\n\r\nTo open up ssh access to the virtual machine:\r\n\r\n  $ vagrant ssh\r\n\r\n\r\n-------------------------------------------------------------------------------\r\nUseful things\r\n\r\nAt the moment IP is configured in\r\n  Vagrantfile\r\n    variable INSTANCE_IP\r\n\r\nVarnish responds to\r\n  http://x.x.x.x/\r\n\r\nNginx responds to\r\n  http://x.x.x.x:8080/\r\n\r\nSolr responds to\r\n  http://x.x.x.x:8983/solr\r\n\r\nMailHOG responds to\r\n  http://x.x.x.x:8025\r\n\r\nDocs are in\r\n        http://x.x.x.x:8080/index.html\r\n        You can setup the dir where the docs are taken from and their URL from the\r\n        variables.yml file.\r\n\r\n        #Docs\r\n        docs:\r\n          hostname : 'docs.local.ansibleref.com'\r\n          dir : '/vagrant/docs'\r\n\r\n\r\n##Vagrant + Ansible configuration\r\n\r\nVagrant is using Ansible provision stored under the ansible subdirectory.\r\nThe inventory file (which stores the hosts and their IP's) is located under\r\nansible/inventory. Host specific configurations for Vagrant are stored in\r\nansible/vagrant.yml and the playbooks are under ansible/playbook directory.\r\nVariable overrides are defined in ansible/variables.yml.\r\n\r\nYou should only bother with the following:\r\n\r\n  Vagrant box setup\r\n    conf/vagrant.yml\r\n\r\n  What components do you want to install?\r\n    conf/vagrant.yml\r\n\r\n  And how are those set up?\r\n    conf/variables.yml\r\n\r\nYou can also fix your vagrant/ansible base setup to certain branch/revision\r\n    conf/project.yml\r\n  There you can also do the same for build.sh\r\n\r\n\r\n\r\n## Debugging tools\r\n\r\nXDebug tools are installed via the devtools role. Everything should work out\r\nof the box for PHPStorm. PHP script e.g. drush debugging should also work.\r\n\r\nExample sublime text project configuration (via Project->Edit Project):\r\n\r\n    {\r\n       \"folders\":\r\n       [\r\n         {\r\n           \"follow_symlinks\": true,\r\n           \"path\": \"/path/to/ansibleref\"\r\n         }\r\n       ],\r\n\r\n       \"settings\":\r\n       {\r\n         \"xdebug\": {\r\n              \"path_mapping\": {\r\n                    \"/vagrant\" : \"/path/to/ansibleref\"\r\n                 }\r\n            }\r\n          }\r\n    }\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}